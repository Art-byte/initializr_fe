@if (isVisible) {
  <div class="modal-overlay">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">Dependencies</h2>
      </div>

      <div class="modal-body">

        @for (section of dependencies; track section.id) {
          <div class="card mb-3">
            <div class="card-header">
              <button class="btn btn-link w-100 text-left" (click)="toggleSection(section.sectionName)">
                <h5 class="card-title">{{section.sectionName}}</h5>
              </button>
            </div>
            @if (isSectionOpen(section.sectionName)) {
              <div class="card-body">
                <ul class="list-unstyled">
                  @for (dep of section.dependenciesContents; track dep.id) {
                    <li class="mb-3">
                      <div class="card">
                        <div class="card-body">
                          <h6 class="card-title">
                            <input class="form-check-input" type="checkbox" value="{{dep.id}}"/>
                            {{dep.depName}}
                          </h6>
                          <p class="card-text">{{dep.description}}</p>
                        </div>
                      </div>
                    </li>
                  }
                </ul>
              </div>
            }
          </div>
        }
      </div>

      <div class="modal-footer">
        <button (click)="close()" class="btn btn-secondary">Close</button>
        <button class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
}
